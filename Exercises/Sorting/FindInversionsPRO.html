<!--
Inversion count mini-proficiency exercise.
Written by Gayathri Subramanian and Cliff Shaffer
-->

<!DOCTYPE html>
<html data-require="math">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Count Inversions</title>
  <script src="../../lib/jquery.min.js"></script>
  <script src="../../lib/jquery-ui.min.js"></script>
  <script src="../../JSAV/lib/jquery.transform.light.js"></script>
  <script src="../../JSAV/lib/raphael.js"></script>
  <script src="../../ODSAkhan-exercises/khan-exercise.js"></script>
  <script src="../../JSAV/build/JSAV-min.js"></script>
  <link rel="stylesheet" href="../../JSAV/css/JSAV.css" type="text/css" />

  <style>
    .jsavcontainer {
      border: 0;
    }
  </style>
</head>

<body>
<script>
var
  jsav,    // The JSAV object
  jsavArr, // The JSAV array
  answer;  // The correct answer

var initJSAV = function (a) {
  var i, j;
  jsav = new JSAV("jsav", {"animationMode": "none"});
  jsavArr = jsav.ds.array(JSAV.utils.rand.numKeys(0, 999, a),
                          {indexed: true, center: false});
  
  // Compute the answer
  answer = 0;
  for (i = 1; i < jsavArr.size(); i++) {
    for (j = 0; j < i; j++) {
      if (jsavArr.value(i) < jsavArr.value(j)) {
        answer++;
      }
    }
  }
};

// Return the computed Answer
var genAnswer = function () {
  return answer;
};
</script>

<div class="exercise">
  <div class="vars">
    <var id="A">randRange(4, 6)</var>
    <var id="JSAV">initJSAV(A)</var>
    <var id="CorrectAnswer">genAnswer()</var>
  </div>
  <div class="problems">
    <div>
      <div class="question">
	How many inversions are in the following array?
	<div id="jsav"></div>
      </div>
      <p class="solution" data-type="text"><var>CorrectAnswer</var></p>
      <div class="hints"> 
	<p>To count the number of inversions look at each value and
	  count the number of times that a bigger value is to its
	  left.</p>
	<p> The total number of inversions is <var>CorrectAnswer</var></p>
      </div>
    </div>
  </div>
</div>
</body>
</html>
