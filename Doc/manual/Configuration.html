

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The OpenDSA Configuration System &mdash; OpenDSA Module Authoring Documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.4.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="OpenDSA Module Authoring Documentation" href="index.html" />
    <link rel="next" title="OpenDSA Client-Side Framework" href="Client-sideFramework.html" />
    <link rel="prev" title="OpenDSA back-end web services and user interface Specifications (draft)" href="BackendSpecs.html" /> 
  </head>
  <body>
      <div class="header"><img class="rightlogo" src="_static/AlgoVizLogo.gif" alt="Logo"/><h1 class="heading"><a href="index.html">
          <span>OpenDSA Module Authoring Documentation</span></a></h1>
        <h2 class="heading"><span>The OpenDSA Configuration System</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="BackendSpecs.html">OpenDSA back-end web services and user interface Specifications (draft)</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="Client-sideFramework.html">OpenDSA Client-Side Framework</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="the-opendsa-configuration-system">
<span id="configuration"></span><h1>The OpenDSA Configuration System<a class="headerlink" href="#the-opendsa-configuration-system" title="Permalink to this headline">¶</a></h1>
<div class="section" id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Allows content to be environment-independent<ul>
<li>Configuration file contains all environment-dependent settings such as paths and target URLs</li>
<li>Example: If developers want to point their front-end code at different backend systems, they simply make the change in their own config file.  They can share all OpenDSA content, but when they build the book, it will be built using their personalized settings</li>
</ul>
</li>
<li>Allows easy replication<ul>
<li>Collects all settings and preferences required to configure an instance of OpenDSA in a single, portable file that can be easily shared among instructors.</li>
<li>Once a configuration has been created, instructors can make identical copies without going through the configuration process</li>
</ul>
</li>
<li>Allows fine grain control<ul>
<li>Existing configuration files provide sensible defaults, but allow instructors to control aspects such as how many points a specific exercise is worth or whether it is required for module proficiency</li>
</ul>
</li>
<li>Configuration file can be generated by a simple front-end or created by hand (tedious, but possible)</li>
</ul>
</div>
<div class="section" id="configuration-process">
<h2>Configuration Process<a class="headerlink" href="#configuration-process" title="Permalink to this headline">¶</a></h2>
<p>Please see the comment at the beginning of configure.py for more information about how the script works.  Keeping the information in the script itself ensures the script is well-documented and makes it easier to maintain the documentation.</p>
<p><strong>Note</strong>: The OpenDSA root directory must be web-accessible as there are many supplemental directories and files (AV/, Exercises/, lib/, SourceCode/, etc) which must be referenced.  These files are identical for all books and not copying them reduces the footprint of each book.</p>
<div class="section" id="module-and-exercise-removal">
<h3>Module and Exercise Removal<a class="headerlink" href="#module-and-exercise-removal" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Only the modules listed in the configuration file will be included.  To remove a module from the book, simply remove the module object from the configuration file.</li>
<li>To remove an exercise from a module, set the &#8220;remove&#8221; attribute to true.  Exercises that do not appear in the configuration file will still be included in the book using the default configuration options.  During configuration, a list will be printed of any exercises which were encountered in the modules but not present in the configuration file.</li>
</ul>
</div>
<div class="section" id="future-features">
<h3>Future Features<a class="headerlink" href="#future-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Implement independent source locations for various files rather than basing them all off the OpenDSA root directory<ul>
<li>Implement support for hosting AVs and exercises on a different domain than modules</li>
</ul>
</li>
<li>Build in config validator that ensures necessary fields appear in the source config file</li>
<li>Ability to optionally include subsections in an RST file - similar to how we include / exclude exercises</li>
</ul>
</div>
</div>
<div class="section" id="format">
<h2>Format<a class="headerlink" href="#format" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>OpenDSA configuration files are stored using JSON<ul>
<li>Easily readable and writeable by both humans and machines<ul>
<li>Easy to create and manipulate using Python and JavaScript</li>
<li>Easy to manually edit</li>
</ul>
</li>
<li>Efficient<ul>
<li>Less verbose than XML resulting in a smaller file size</li>
</ul>
</li>
<li>Abundance of online JSON validators and formatters</li>
</ul>
</li>
<li>Book name<ul>
<li>The name of the configuration file will be used to uniquely identify this instance of OpenDSA in the backend database</li>
</ul>
</li>
</ul>
<div class="section" id="settings-all-are-required-unless-otherwise-specified">
<h3>Settings (all are required unless otherwise specified)<a class="headerlink" href="#settings-all-are-required-unless-otherwise-specified" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>title</strong> - the title of the OpenDSA textbook</li>
<li><strong>output_dir</strong> - the directory where the textbook materials will be placed<ul>
<li>Files required to compile the book will be copied / written here, including modified version of the source RST files</li>
<li>If &#8216;copy_static_files&#8217; is &#8216;true&#8217;, all files necessary to host an instance of OpenDSA will be contained within this directory</li>
<li>The compiled textbook will appear in &#8216;build/html&#8217; within this directory</li>
<li>This directory must be web accessible</li>
</ul>
</li>
<li><strong>code_dir</strong> - specifies the directory containing the source code to be used in textbook examples</li>
<li><strong>module_origin</strong> - the protocol and domain where the module files are hosted<ul>
<li>Used by embedded exercises as the target of HTML5 post messages which send information to the parent (module) page</li>
<li>Ex: &#8220;module_origin&#8221;: &#8220;<a class="reference external" href="http://algoviz.org">http://algoviz.org</a>&#8221;,</li>
</ul>
</li>
<li><strong>av_root_dir</strong> - (optional) allows the user to change the default location where the AV/ directory can be found<ul>
<li>This can point to another location on the same machine that hosts the module files (as long as it is web-accessible) or it can point to a remote location (not fully supported yet)</li>
<li><strong>Note</strong>: This should not point to the AV/ directory itself, but the directory containing the AV/ directory (to avoid breaking the relative paths in the RST files)</li>
<li>If this attribute references a remote location, &#8216;av_origin&#8217; must be present and the value must be a prefix of the remote location</li>
<li>If this attribute is not present, the OpenDSA root directory will be used as the default</li>
<li>Ex: &#8220;av_root_dir&#8221;: &#8220;/home/algoviz/OpenDSA/test/&#8221;,</li>
<li>Ex: &#8220;av_root_dir&#8221;: &#8220;<a class="reference external" href="http://algoviz.org/OpenDSA/">http://algoviz.org/OpenDSA/</a>&#8221;, // This directory contains an AV/ directory</li>
</ul>
</li>
<li><strong>av_origin</strong> - (optional, unless <strong>av_root_dir</strong> is defined) the protocol and domain where the AV files are hosted<ul>
<li>Used on module pages to allow HTML5 post messages from this origin, allows embedded AVs to communicate with the parent module page</li>
<li>If this attribute is not present, it will default to be the same as the module_origin</li>
<li>Ex: &#8220;av_origin&#8221;: &#8220;<a class="reference external" href="http://algoviz.org">http://algoviz.org</a>&#8221;,</li>
</ul>
</li>
<li><strong>exercises_root_dir</strong> - (optional) allows the user to change the default location where the Exercises/ directory can be found<ul>
<li>This can point to another location on the same machine that hosts the module files (as long as it is web-accessible) or it can point to a remote location (not fully supported yet)</li>
<li><strong>Note</strong>: This should not point to the Exercises/ directory itself, but the directory containing the Exercises/ directory (to avoid breaking the relative paths in the RST files)</li>
<li>If this attribute references a remote location, &#8216;exercise_origin&#8217; must be present and the value must be a prefix of the remote location</li>
<li>If this attribute is not present, the OpenDSA root directory will be used as the default</li>
<li>Ex: &#8220;exercises_root_dir&#8221;: &#8220;/home/algoviz/OpenDSA/test/&#8221;,</li>
<li>Ex: &#8220;exercises_root_dir&#8221;: &#8220;<a class="reference external" href="http://algoviz.org/OpenDSA/">http://algoviz.org/OpenDSA/</a>&#8221;, // This directory contains an Exercises/ directory</li>
</ul>
</li>
<li><strong>exercise_origin</strong> - (optional, unless <strong>exercises_root_dir</strong> is defined) the protocol and domain where the Exercises files are hosted<ul>
<li>Used on module pages to allow HTML5 post messages from this origin, allows embedded exercises to communicate with the parent module page</li>
<li>If this attribute is not present, it will default to be the same as the module_origin</li>
<li>Ex: &#8220;exercise_origin&#8221;: &#8220;<a class="reference external" href="http://algoviz.org">http://algoviz.org</a>&#8221;,</li>
</ul>
</li>
<li><strong>backend_address</strong> - the protocol and domain (and port number, if not the protocol default) of the backend server which supports centralized user scoring and interaction data collection<ul>
<li>Trailing &#8216;/&#8217; is optional</li>
<li>Ex: &#8220;backend_address&#8221;: &#8220;<a class="reference external" href="https://opendsa.cc.vt.edu/">https://opendsa.cc.vt.edu/</a>&#8221;,</li>
</ul>
</li>
<li><strong>build_JSAV</strong> - a boolean controlling whether or not the JSAV library should be rebuild every time the configuration file is run<ul>
<li>This value should be set to false for development</li>
<li>Instructors may wish to set this to true for production environments when configuration is run infrequently and JSAV is likely to have changed since the last time configuration occurred</li>
</ul>
</li>
<li><strong>build_ODSA</strong> - (optional) a boolean controlling whether OpenDSA should be built after the configuration process has occurred, OpenDSA will be built by default if this attribute is not present<ul>
<li>This can generally be set to true because in most cases it makes sense to build the book immediately after it is configured</li>
<li>If necessary, this value can be set to false and OpenDSA can be built manually by running make from the output directory</li>
</ul>
</li>
<li><strong>allow_anonymous_credit</strong> - (optional) a boolean controlling whether credit for exercises completed anonymously (without logging in) will be transferred to the next user to log in, OpenDSA will accept anonymous credit by default if this attribute is not present</li>
<li><strong>chapters</strong> - this object contains a hierarchy of chapters, sections, subsections, modules and exercises<ul>
<li>Each key in &#8220;chapters&#8221; represents a chapter name, any key values in the associated object represent sections within that chapter.  This concept is applied recursively until a module object is reached.  A module object is one whose key matches the name of an RST file in the ~OpenDSA/RST/source/ directory and which contains the key &#8220;exercises&#8221;.</li>
<li>Modules<ul>
<li>The key relating to each module object must correspond with the name of an RST file found in the ~OpenDSA/RST/source/ directory</li>
<li>If a module contains no exercises, it should still contain a key &#8220;exercises&#8221; with a value of an empty object</li>
<li><strong>long_name</strong> - a long form, human-readable name used to identify the module in the GUI</li>
<li><strong>dispModComp</strong> - (optional) a flag which if set to &#8220;true&#8221; will force the &#8220;Module Complete&#8221; message to appear even if the module contains no required exercises, if set to &#8220;false&#8221;, the &#8220;Module Complete&#8221; message will not appear even if the module DOES contain required exercises</li>
<li><strong>exercises</strong> - a collection of exercise objects representing the exercises found in the module&#8217;s RST file<ul>
<li>Omitting an exercise from the module&#8217;s &#8220;exercises&#8221; object will cause the exercise to be removed from the configured module</li>
<li>Each exercise object contains required information about that exercise including:<ul>
<li><strong>showhide</strong> - (optional) controls whether or not the exercises is displayed and a Show / Hide button created<ul>
<li>Setting this attribute to &#8220;show&#8221; or &#8220;hide&#8221; will create the corresponding button and if set to &#8220;show&#8221;, it will display the embedded page</li>
<li>Setting this attribute to &#8220;none&#8221; will cause the exercise to be embedded without a button</li>
<li>If this attribute is not present in the config file, the default behavior is &#8216;hide&#8217;</li>
<li>This option is only valid for exercises embedded using the &#8216;avembed&#8217; directive.  Slideshows and diagrams created using the &#8216;inlineav&#8217; directive are considered content and cannot be removed via the configuration file.</li>
</ul>
</li>
<li><strong>remove</strong> - (optional) if set to true, the exercise will not be included in the module<ul>
<li>This option can only be used with exercises embedded using the &#8216;avembed&#8217; directive.  Slideshows and diagrams created using the &#8216;inlineav&#8217; directive are considered content and cannot be removed via the configuration file.</li>
</ul>
</li>
<li><strong>long_name</strong> - a long form, human-readable name used to identify the exercise in the GUI</li>
<li><strong>required</strong> - whether the exercise is required for module proficiency</li>
<li><strong>points</strong> - the number of points the exercise is worth</li>
<li><strong>threshold</strong> - the percentage a user needs to score on the exercise to obtain proficiency</li>
</ul>
</li>
<li>JSAV-based diagrams do not need to be listed</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="BackendSpecs.html">OpenDSA back-end web services and user interface Specifications (draft)</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="Client-sideFramework.html">OpenDSA Client-Side Framework</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012 by OpenDSA Project Contributors.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>